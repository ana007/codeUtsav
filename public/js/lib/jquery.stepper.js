!function(e){e.fn.stepper=function(n){var t={type:"float",floatPrecission:2,ui:!0,allowWheel:!0,allowArrows:!0,arrowStep:1,wheelStep:1,limit:[null,null],preventWheelAcceleration:!0,onStep:null,onWheel:null,onArrow:null,onButton:null,onKeyUp:null};return e(this).each(function(){function o(e){e.preventDefault();var n,t=e.originalEvent;if(t.wheelDelta?n=t.wheelDelta/120:t.detail&&(n=-t.detail/3),n){u.preventWheelAcceleration&&(n=0>n?-1:1);var o=r(u.wheelStep*n);a("Wheel",[o,n>0])}}function r(e){c.val()||c.val(0);var n="int"==u.type?parseInt:parseFloat,t=l(n(c.val())+e);return c.val(t),a("Step",[t,e>0]),t}function a(e,n){var t=u["on"+e];"function"==typeof t&&t.apply(c,n)}function l(e){var n=u.limit[0],t=u.limit[1];return null!==n&&n>e?e=n:null!==t&&e>t&&(e=t),p(e)}function p(e,n){"undefined"==typeof n&&(n=u.floatPrecission);var t=Math.pow(10,n);return e=Math.round(e*t)/t}var i=e(this).data();delete i.stepper;var u=e.extend({},t,n,i),c=e(this),s=e('<div class="stepper"/>');if(!c.data("stepper")){if(s.insertAfter(c),c.appendTo(s),c.stepper=function(){return{limit:l,decimalRound:p,onStep:function(e){u.onStep=e},onWheel:function(e){u.onWheel=e},onArrow:function(e){u.onArrow=e},onButton:function(e){u.onButton=e},onKeyUp:function(e){u.onKeyUp=e}}}(),c.data("stepper",c.stepper),u.ui){var f=e('<div class="stepper-wrapper"/>').appendTo(s),v=e('<i class="stepper-arrow up"></i>').appendTo(f),w=e('<i class="stepper-arrow down"></i>').appendTo(f);c.css("margin",0);var d;v.mousedown(function(e){e.preventDefault();var n=r(u.arrowStep);a("Button",[n,!0])}),w.mousedown(function(e){e.preventDefault();var n=r(-u.arrowStep);a("Button",[n,!1])}),e(document).mouseup(function(){clearInterval(d)})}u.allowWheel&&(s.bind("DOMMouseScroll",o),s.bind("mousewheel",o)),s.keydown(function(n){var t=n.which,o=c.val();if(u.allowArrows)switch(t){case 38:o=r(u.arrowStep),a("Arrow",[o,!0]);break;case 40:o=r(-u.arrowStep),a("Arrow",[o,!1])}(37>t&&t>40||t>57&&91>t||t>105&&110!=t&&190!=t)&&n.preventDefault(),"float"==u.type&&-1!=e.inArray(t,[110,190])&&-1!=o.indexOf(".")&&n.preventDefault()}).keyup(function(){a("KeyUp",[c.val()])})}})}}(jQuery);